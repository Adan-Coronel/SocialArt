extends layout

block content
  link(rel="stylesheet", href="/perfilPublico.css")
  .perfil-publico-container
    .perfil-header
      .perfil-info
        if usuario.foto
          img.perfil-foto(src=usuario.foto, width="150")
        else
          .perfil-foto-placeholder #{usuario.nombre.charAt(0)}
        
        .perfil-datos
          h1= usuario.nombre
          if usuario.intereses
            p.intereses Intereses: #{usuario.intereses}
          
          // Botones de acci√≥n seg√∫n el estado de la relaci√≥n
          if usuarioLogueado
            .acciones-perfil
              if estadoRelacion === 'sin_relacion'
                button.btn-solicitud(onclick=`enviarSolicitud(${usuario.idUser})`) 
                  | üì§ Enviar solicitud de amistad
              else if estadoRelacion === 'solicitud_enviada'
                button.btn-solicitud-enviada(onclick=`cancelarSolicitud(${usuario.idUser})`)
                  | ‚è≥ Solicitud enviada (cancelar)
              else if estadoRelacion === 'solicitud_recibida'
                .solicitud-recibida
                  p Este usuario te envi√≥ una solicitud de amistad
                  button.btn-aceptar(onclick="irASolicitudes()") Ver solicitudes
              else if estadoRelacion === 'amigos'
                .ya-amigos
                  span.badge-amigos ‚úÖ Siguiendo
          else
            p.invitado-mensaje Inicia sesi√≥n para enviar solicitud de amistad

    .perfil-content
      h2 √Ålbumes p√∫blicos
      if usuario.albums && usuario.albums.length
        .albumes-grid
          each album in usuario.albums
            .album-card
              h3
                a(href=`/albums/${album.idAlbum}`) #{album.titulo}
              p Creado: #{new Date(album.created_at).toLocaleDateString()}
              span.badge-publico P√∫blico
      else
        .sin-albumes
          p Este usuario no tiene √°lbumes p√∫blicos.

  

  script(src="/perfilPublico.js")